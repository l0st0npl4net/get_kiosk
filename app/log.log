1-30 12:08:14,576]  INFO [ 9] - Waiting for connection...
[2025-01-30 12:08:14,760]  INFO [ 1] - Instance of “Get.Plugin.Front.Kiosk.GetKioskPlugin” created
[2025-01-30 12:08:20,104]  INFO [ 8] - Client Connected. Client IP: 192.168.36.141, ConnectionId 251be439-c00e-4cf5-a896-d61eeed00a15
[2025-01-30 12:08:20,104]  INFO [ 8] - Waiting for connection...
[2025-01-30 12:08:20,148]  INFO [ 9] - REQUEST FROM CONNECTION 251be439-c00e-4cf5-a896-d61eeed00a15: {"id":"cf660eb9-b5ea-4747-9af4-50fa6e7e024c","jsonrpc":"2.0","method":"Authorize","params":{"sstId":"893866fb-6ad1-4588-a236-4a60a5dcbf7b","states":[10,12,15],"version":"0.29.0"}}
[2025-01-30 12:08:20,190]  INFO [15] - SST version: 0.29.0
[2025-01-30 12:08:20,190]  INFO [15] - SST id: 893866fb-6ad1-4588-a236-4a60a5dcbf7b
[2025-01-30 12:08:20,263]  INFO [15] - REPLY TO CONNECTION 251be439-c00e-4cf5-a896-d61eeed00a15: {"jsonrpc":"2.0","error":{"additionalInfo":[{"Operation":"Display","Type":"Popup","DataType":"None","Data":"","Header":"Error","Footer":"SST is not configured"}],"code":-32603,"message":"Internal Error","data":"SST is not configured"},"id":"cf660eb9-b5ea-4747-9af4-50fa6e7e024c"}
[2025-01-30 12:17:50,231]  INFO [13] - Loaded 1 configs
[2025-01-30 12:27:50,273]  INFO [13] - Loaded 1 configs
[2025-01-30 12:32:01,267]  INFO [67] - RECEIVED CLOSE MESSAGE TYPE FROM 251be439-c00e-4cf5-a896-d61eeed00a15
[2025-01-30 12:32:01,271]  WARN [67] - Trying to dispose connection 251be439-c00e-4cf5-a896-d61eeed00a15
[2025-01-30 12:32:01,290]  INFO [13] - Connection 251be439-c00e-4cf5-a896-d61eeed00a15 successfully removed from the cache.
[2025-01-30 12:32:01,290]  WARN [13] - Trying to dispose connection 251be439-c00e-4cf5-a896-d61eeed00a15
[2025-01-30 12:32:05,910]  INFO [67] - Client Connected. Client IP: 192.168.36.141, ConnectionId bebf05f7-7980-44f7-8257-5a346092362f
[2025-01-30 12:32:05,910]  INFO [67] - Waiting for connection...
[2025-01-30 12:32:05,967]  INFO [67] - REQUEST FROM CONNECTION bebf05f7-7980-44f7-8257-5a346092362f: {"id":"2b064f9a-c2c2-497e-a50c-1d8cc86ca4f7","jsonrpc":"2.0","method":"GenerateTempCode"}
[2025-01-30 12:32:05,971]  INFO [15] - REPLY TO CONNECTION bebf05f7-7980-44f7-8257-5a346092362f: {"jsonrpc":"2.0","result":"8537","id":"2b064f9a-c2c2-497e-a50c-1d8cc86ca4f7"}
[2025-01-30 12:32:05,984]  INFO [67] - REQUEST FROM CONNECTION bebf05f7-7980-44f7-8257-5a346092362f: {"id":"8c4508e4-7d88-4d5a-a040-63b6477f6bb2","jsonrpc":"2.0","method":"Register","params":{"code":"8537"}}
[2025-01-30 12:32:05,988]  INFO [ 9] - Hostname: nam-nam-demo
[2025-01-30 12:32:05,989]  INFO [ 9] - MAC: E4:3A:6E:42:26:FF
[2025-01-30 12:32:05,991]  INFO [ 9] - REPLY TO CONNECTION bebf05f7-7980-44f7-8257-5a346092362f: {"jsonrpc":"2.0","result":"893866fb-6ad1-4588-a236-4a60a5dcbf7b","id":"8c4508e4-7d88-4d5a-a040-63b6477f6bb2"}
[2025-01-30 12:32:06,009]  INFO [67] - REQUEST FROM CONNECTION bebf05f7-7980-44f7-8257-5a346092362f: {"id":"f41f7c9e-8d2b-4bb0-973a-b2377a9ddba6","jsonrpc":"2.0","method":"Authorize","params":{"sstId":"893866fb-6ad1-4588-a236-4a60a5dcbf7b","states":[10,12,15],"version":"0.29.0"}}
[2025-01-30 12:32:06,011]  INFO [15] - SST version: 0.29.0
[2025-01-30 12:32:06,011]  INFO [15] - SST id: 893866fb-6ad1-4588-a236-4a60a5dcbf7b
[2025-01-30 12:32:06,020]  INFO [15] - REPLY TO CONNECTION bebf05f7-7980-44f7-8257-5a346092362f: {"jsonrpc":"2.0","error":{"additionalInfo":[{"Operation":"Display","Type":"Popup","DataType":"None","Data":"","Header":"Error","Footer":"SST is not configured"}],"code":-32603,"message":"Internal Error","data":"SST is not configured"},"id":"f41f7c9e-8d2b-4bb0-973a-b2377a9ddba6"}
[2025-01-30 12:32:07,086]  INFO [67] - REQUEST FROM CONNECTION bebf05f7-7980-44f7-8257-5a346092362f: {"jsonrpc":"2.0","method":"AddMessage","params":{"level":3,"message":"Kiosk was disabled. Reason: Authorize error. "}}
[2025-01-30 12:32:07,117]  WARN [ 9] - Киоск будет отключен. Причина:  Authorize error. 
[2025-01-30 12:37:50,308]  INFO [15] - Loaded 1 configs
[2025-01-30 12:47:50,340]  INFO [15] - Loaded 1 configs
[2025-01-30 12:47:56,536] ERROR [ 2] - System
[2025-01-30 12:47:56,536] ERROR [ 2] - Попытка выполнить операцию для несуществующего сетевого подключения
[2025-01-30 12:57:50,258]  INFO [13] - Menu update launched
[2025-01-30 12:57:50,350]  INFO [13] - menuSchema - False
[2025-01-30 12:57:50,351]  INFO [13] - !!!Loading currentMenu from GetHub!!!
[2025-01-30 12:57:50,351]  INFO [13] - GetExternalMenuSettings [POST]: https://api-pos.ru.ge-co.io/api/v1/menu
[2025-01-30 12:57:50,351]  INFO [13] - Header 'x-api-key': r6t23TUmo4jByVc65UXrjRZvvz2Qbupu
[2025-01-30 12:57:50,351]  INFO [13] - Body: {"organizationId":"3c7ba918-9dab-4df9-8491-c54434696f82","menuName":"iiko"}
[2025-01-30 12:57:50,369]  INFO [15] - Loaded 1 configs
[2025-01-30 12:57:51,162]  INFO [13] - GetHub menu 'iiko' - groups: 2 | products: 10
[2025-01-30 12:57:51,162]  INFO [13] - GetHub menu 'iiko' revision - 2b7a77ee-357a-e612-ae13-9dd455a10ccf
[2025-01-30 12:57:51,165]  INFO [13] - Minimum denomination from iiko : 1
[2025-01-30 12:57:51,165]  INFO [13] - Round prices to whole number
[2025-01-30 12:57:51,167]  INFO [13] - !!!Loading complete!!!
[2025-01-30 12:58:50,569]  INFO [13] - TRNApiKey IsNullOrEmpty
[2025-01-30 12:58:50,576]  INFO [13] - SSTHierarchy product count: 10 and groups count: 2
[2025-01-30 12:59:39,110]  WARN [13] - Not loading packages due to empty config.
[2025-01-30 12:59:39,157]  INFO [13] - Not allowed for sale products: []
[2025-01-30 12:59:39,157]  INFO [13] - Start to downloading images...
[2025-01-30 12:59:39,157]  INFO [13] - Images downloaded
[2025-01-30 12:59:39,157]  INFO [13] - Promo product: empty
[2025-01-30 12:59:39,157]  INFO [13] - Disabled products count: 18
[2025-01-30 12:59:39,157]  INFO [13] - Ext products count: 10
[2025-01-30 12:59:39,157]  INFO [13] - Ext groups count: 2
[2025-01-30 12:59:39,157]  INFO [13] - Target top group IDs count: 2
[2025-01-30 12:59:39,157]  INFO [13] - Target product IDs count: 10
[2025-01-30 12:59:39,157]  INFO [13] - All products count: 1620
[2025-01-30 12:59:39,157]  INFO [13] - Target products count: 10
[2025-01-30 13:07:50,407]  INFO [13] - Loaded 1 configs
[2025-01-30 13:17:50,426]  INFO [ 9] - Loaded 1 configs
[2025-01-30 13:27:50,449]  INFO [ 9] - Loaded 1 configs
[2025-01-30 13:37:50,480]  INFO [ 9] - Loaded 1 configs
[2025-01-30 13:47:50,505]  INFO [13] - Loaded 1 configs
[2025-01-30 13:56:53,815]  INFO [ 1] - Disposing plugin...
[2025-01-30 13:56:53,830]  INFO [ 1] - Observer stopped
[2025-01-30 13:56:53,852]  INFO [ 1] - Observer stopped
[2025-01-30 13:56:53,883]  INFO [72] - Cancellation was requested.
[2025-01-30 13:56:53,885]  INFO [ 1] - GetKiosk Plugin stopped
[2025-01-30 13:56:53,886]  INFO [ 1] - Unregistering ipc channel...
[2025-01-30 13:56:53,887]  INFO [ 1] - Unloading plugin domain...
[2025-01-30 13:56:53,919] ERROR [72] - Got WebSocketException with WS error code: Success in HandleConnectionAsync
System.Net.WebSockets.WebSocketException (0x80004005): Внутренняя ошибка WebSocket. Дополнительные сведения см. в исключении innerException, если оно существует. ---> System.Net.HttpListenerException (0x80004005): Операция ввода/вывода была прервана из-за завершения потока команд или по запросу приложения
   в System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   в System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   в System.Net.WebSockets.WebSocketHttpListenerDuplexStream.<ReadAsyncCore>d__30.MoveNext()
--- Конец трассировка стека из предыдущего расположения, где возникло исключение ---
   в System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   в System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   в System.Runtime.CompilerServices.TaskAwaiter.ValidateEnd(Task task)
   в System.Net.WebSockets.WebSocketBase.WebSocketOperation.<Process>d__19.MoveNext()
--- Конец трассировка стека из предыдущего расположения, где возникло исключение ---
   в System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   в System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   в System.Net.WebSockets.WebSocketBase.<ReceiveAsyncCore>d__45.MoveNext()
   в System.Net.WebSockets.WebSocketBase.ThrowIfConvertibleException(String methodName, Exception exception, CancellationToken cancellationToken, Boolean aborted)
   в System.Net.WebSockets.WebSocketBase.<ReceiveAsyncCore>d__45.MoveNext()
--- Конец трассировка стека из предыдущего расположения, где возникло исключение ---
   в System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   в System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   в Get.Plugin.Front.Kiosk.Socket.WebSocketServer.<ReadWsMessageAsync>d__22.MoveNext() в C:\DEV\source\repos\kiosk\Get.Plugin.Front.Kiosk\Transport\WebSocketServer.cs:строка 413
--- Конец трассировка стека из предыдущего расположения, где возникло исключение ---
   в System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   в System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   в System.Runtime.CompilerServices.TaskAwaiter.ValidateEnd(Task task)
   в Get.Plugin.Front.Kiosk.Socket.WebSocketServer.<HandleConnectionAsync>d__19.MoveNext() в C:\DEV\source\repos\kiosk\Get.Plugin.Front.Kiosk\Transport\WebSocketServer.cs:строка 275
[2025-01-30 13:56:53,920]  WARN [72] - Trying to dispose connection bebf05f7-7980-44f7-8257-5a346092362f
[2025-01-30 13:56:53,920]  INFO [72] - Connection bebf05f7-7980-44f7-8257-5a346092362f successfully removed from the cache.
[2025-01-30 13:56:53,951]  INFO [ 1] - Shutdown completed
[2025-01-30 13:57:21,816]  INFO [ 1] - ================================================================================
[2025-01-30 13:57:21,826]  INFO [ 1] - Resto.Front.Api.Host ver. 8.8.9008.0
[2025-01-30 13:57:21,826]  INFO [ 1] - ================================================================================
[2025-01-30 13:57:21,826]  INFO [ 1] - Host process Get.Plugin.Front.Kiosk (1620) for “Get.Plugin.Front.Kiosk.GetKioskPlugin” class from “C:\Program Files\iiko\iikoRMS\Front.Net\Plugins\Get.Plugin.Front.Kiosk\Get.Plugin.Front.Kiosk.dll” assembly is running in background mode.
[2025-01-30 13:57:21,829]  INFO [ 1] - Plugin assembly info:
  GetIt 
  Get Kiosk Plugin v0.30.0, GetKiosk Interface Plugin (Get.Plugin.Front.Kiosk.dll v0.30.0, iiko GetKiosk)
[2025-01-30 13:57:21,903]  INFO [ 1] - Created plugin domain “Get.Plugin.Front.Kiosk” using “C:\Program Files\iiko\iikoRMS\Front.Net\Plugins\Get.Plugin.Front.Kiosk\Get.Plugin.Front.Kiosk.dll.config”
[2025-01-30 13:57:21,929]  INFO [ 1] - Registering ipc channel...
[2025-01-30 13:57:22,525]  INFO [ 1] - Initialized as V7 plugin.
[2025-01-30 13:57:23,043]  INFO [ 1] - Plugin context initialized, creating plugin instance...
[2025-01-30 13:57:23,336]  INFO [ 1] - Plugin configuration provider is attached to “Default” instance of type “Get.Plugin.Front.Kiosk.Properties.Settings”.
[2025-01-30 13:57:23,384]  INFO [ 1] - Reading settings from file: C:\Program Files\iiko\iikoRMS\Front.Net\Plugins\Get.Plugin.Front.Kiosk\Get.Plugin.Front.Kiosk.dll.config, settings found: 57.
[2025-01-30 13:57:23,517]  INFO [ 1] - External operation getExternalData on kioskPlugin was registered!
[2025-01-30 13:57:23,612]  INFO [ 1] - [GetHub Menu] [36073118] [None]
[2025-01-30 13:57:23,614]  WARN [ 1] - It is GetIt client
[2025-01-30 13:57:23,618]  INFO [ 1] - Plugin versioning check has been started.
[2025-01-30 13:57:23,618]  INFO [ 1] - assemblyId - be6d79c4-5ee7-4473-a5ac-1fbea3117339
[2025-01-30 13:57:24,349]  INFO [ 1] - GetKiosk settings:
{"ServerAddress":null,"ServerToken":null,"Timeout":0,"Version":"0.30.0.0","Threshold":0,"IikoServerAddress":null,"RetryCount":0,"SyncMinutesCount":0,"SentryKey":null,"UserName":null,"Password":null}
[2025-01-30 13:57:24,350]  INFO [ 1] - "GetKiosk" Plugin: Versions are equal: front version: 0.30, version from settings:0.30
[2025-01-30 13:57:34,507]  INFO [ 1] - Loading plugin with ID 50691b54-08fc-47e3-a490-55490599234c
[2025-01-30 13:57:35,356]  WARN [ 1] - Error to get GeneralSettings:
System.Net.WebException: Удаленный сервер возвратил ошибку: (404) Не найден.
   в System.Net.HttpWebRequest.GetResponse()
   в Get.Plugin.Front.Kiosk.Services.GeneralSettingsLoader.LoadSettings() в C:\DEV\source\repos\kiosk\Get.Plugin.Front.Kiosk\Services\GeneralSettingsLoader.cs:строка 23
[2025-01-30 13:57:35,485]  INFO [ 1] - menuSchema - False
[2025-01-30 13:57:35,486]  INFO [ 1] - !!!Loading currentMenu from GetHub!!!
[2025-01-30 13:57:35,492]  INFO [ 1] - GetExternalMenuSettings [POST]: https://api-pos.ru.ge-co.io/api/v1/menu
[2025-01-30 13:57:35,492]  INFO [ 1] - Header 'x-api-key': r6t23TUmo4jByVc65UXrjRZvvz2Qbupu
[2025-01-30 13:57:35,494]  INFO [ 1] - Body: {"organizationId":"3c7ba918-9dab-4df9-8491-c54434696f82","menuName":"iiko"}
[2025-01-30 13:57:36,134]  INFO [ 1] - GetHub menu 'iiko' - groups: 2 | products: 10
[2025-01-30 13:57:36,134]  INFO [ 1] - GetHub menu 'iiko' revision - 2b7a77ee-357a-e612-ae13-9dd455a10ccf
[2025-01-30 13:57:36,196]  INFO [ 1] - Minimum denomination from iiko : 1
[2025-01-30 13:57:36,196]  INFO [ 1] - Round prices to whole number
[2025-01-30 13:57:36,223]  INFO [ 1] - !!!Loading complete!!!
[2025-01-30 13:58:33,913]  INFO [ 1] - TRNApiKey IsNullOrEmpty
[2025-01-30 13:58:33,941]  INFO [ 1] - SSTHierarchy product count: 10 and groups count: 2
[2025-01-30 13:59:22,248]  WARN [ 1] - Not loading packages due to empty config.
[2025-01-30 13:59:22,359]  INFO [ 1] - Not allowed for sale products: []
[2025-01-30 13:59:22,363]  INFO [ 1] - Start to downloading images...
[2025-01-30 13:59:22,363]  INFO [ 1] - Images downloaded
[2025-01-30 13:59:22,363]  INFO [ 1] - Promo product: empty
[2025-01-30 13:59:22,363]  INFO [ 1] - Disabled products count: 18
[2025-01-30 13:59:22,364]  INFO [ 1] - Ext products count: 10
[2025-01-30 13:59:22,364]  INFO [ 1] - Ext groups count: 2
[2025-01-30 13:59:22,364]  INFO [ 1] - Target top group IDs count: 2
[2025-01-30 13:59:22,364]  INFO [ 1] - Target product IDs count: 10
[2025-01-30 13:59:22,364]  INFO [ 1] - All products count: 1620
[2025-01-30 13:59:22,364]  INFO [ 1] - Target products count: 10
[2025-01-30 13:59:22,530]  INFO [ 1] - Loaded 1 configs
[2025-01-30 13:59:22,553]  WARN [ 1] - Loyalty will be disabled. The provider is not configured.
[2025-01-30 13:59:22,554]  INFO [ 1] - Initializing Payment Processor
[2025-01-30 13:59:22,554]  INFO [ 1] - Payment Processor is initialized
[2025-01-30 13:59:22,557]  INFO [ 1] - Can't use default delivery product from config 00000000-0000-0000-0000-000000000000
[2025-01-30 13:59:22,557]  INFO [ 1] - Starting check from cached products
[2025-01-30 13:59:31,651]  INFO [ 1] - Trying to check default delivery product Ш_Сметана 40 гр 3dd0ce2e-6938-4c4b-9263-00ba6160e3d3
[2025-01-30 13:59:31,658]  INFO [ 1] - Product not valid for default delivery
[2025-01-30 13:59:36,544]  INFO [ 1] - Trying to check default delivery product Ш_Чесночный 40 гр aaa3e2b9-e643-454c-b8fd-1da513a9ded0
[2025-01-30 13:59:36,547]  INFO [ 1] - Product not valid for default delivery
[2025-01-30 13:59:46,411]  INFO [ 1] - Trying to check default delivery product Ш_Городская с курицей 350 гр. 120afa02-6883-448d-9000-577ff66e2a34
[2025-01-30 13:59:46,427]  INFO [ 1] - Product valid for default delivery
[2025-01-30 13:59:46,427]  INFO [ 1] - Default delivery product: Ш_Городская с курицей 350 гр. - 120afa02-6883-448d-9000-577ff66e2a34
[2025-01-30 13:59:46,475]  INFO [ 1] - Default payment: Киоск Пэй - db82cab7-ac87-43e4-a5ed-4b64c2140d07
[2025-01-30 13:59:46,520]  INFO [ 1] - Discovered 192.168.36.10 for interface Morsen of type Ethernet
[2025-01-30 13:59:46,521]  INFO [ 1] - Initiating server at http://192.168.36.10:8001/
[2025-01-30 13:59:46,859]  INFO [ 9] - Waiting for connection...
[2025-01-30 13:59:47,010]  INFO [ 1] - Instance of “Get.Plugin.Front.Kiosk.GetKioskPlugin” created
[2025-01-30 13:59:54,111]  INFO [10] - Client Connected. Client IP: 192.168.36.141, ConnectionId 72af4a61-4a08-4b9e-be22-f077c2942309
[2025-01-30 13:59:54,112]  INFO [10] - Waiting for connection...
[2025-01-30 13:59:54,154]  INFO [ 9] - REQUEST FROM CONNECTION 72af4a61-4a08-4b9e-be22-f077c2942309: {"id":"610e7347-ce37-416f-a2e1-28159a6723a7","jsonrpc":"2.0","method":"Authorize","params":{"sstId":"893866fb-6ad1-4588-a236-4a60a5dcbf7b","states":[10,12,15],"version":"0.29.0"}}
[2025-01-30 13:59:54,194]  INFO [15] - SST version: 0.29.0
[2025-01-30 13:59:54,194]  INFO [15] - SST id: 893866fb-6ad1-4588-a236-4a60a5dcbf7b
[2025-01-30 13:59:54,264]  INFO [15] - REPLY TO CONNECTION 72af4a61-4a08-4b9e-be22-f077c2942309: {"jsonrpc":"2.0","error":{"additionalInfo":[{"Operation":"Display","Type":"Popup","DataType":"None","Data":"","Header":"Error","Footer":"SST is not configured"}],"code":-32603,"message":"Internal Error","data":"SST is not configured"},"id":"610e7347-ce37-416f-a2e1-28159a6723a7"}
[2025-01-30 14:05:14,007]  INFO [29] - RECEIVED CLOSE MESSAGE TYPE FROM 72af4a61-4a08-4b9e-be22-f077c2942309
[2025-01-30 14:05:14,009]  WARN [29] - Trying to dispose connection 72af4a61-4a08-4b9e-be22-f077c2942309
[2025-01-30 14:05:14,028]  INFO [ 9] - Connection 72af4a61-4a08-4b9e-be22-f077c2942309 successfully removed from the cache.
[2025-01-30 14:05:14,029]  WARN [ 9] - Trying to dispose connection 72af4a61-4a08-4b9e-be22-f077c2942309
[2025-01-30 14:05:15,516]  INFO [29] - Client Connected. Client IP: 192.168.36.141, ConnectionId 4f95dc6e-8b64-498a-b1fe-c8542591dedc
[2025-01-30 14:05:15,516]  INFO [29] - Waiting for connection...
[2025-01-30 14:05:15,573]  INFO [29] - REQUEST FROM CONNECTION 4f95dc6e-8b64-498a-b1fe-c8542591dedc: {"id":"161947a4-fb20-47cd-9dc0-366840e93bac","jsonrpc":"2.0","method":"Authorize","params":{"sstId":"893866fb-6ad1-4588-a236-4a60a5dcbf7b","states":[10,12,15],"version":"0.30.0"}}
[2025-01-30 14:05:15,574]  INFO [ 9] - SST version: 0.30.0
[2025-01-30 14:05:15,574]  INFO [ 9] - SST id: 893866fb-6ad1-4588-a236-4a60a5dcbf7b
[2025-01-30 14:05:15,578]  INFO [ 9] - REPLY TO CONNECTION 4f95dc6e-8b64-498a-b1fe-c8542591dedc: {"jsonrpc":"2.0","error":{"additionalInfo":[{"Operation":"Display","Type":"Popup","DataType":"None","Data":"","Header":"Error","Footer":"SST is not configured"}],"code":-32603,"message":"Internal Error","data":"SST is not configured"},"id":"161947a4-fb20-47cd-9dc0-366840e93bac"}
[2025-01-30 14:05:16,197]  INFO [29] - REQUEST FROM CONNECTION 4f95dc6e-8b64-498a-b1fe-c8542591dedc: {"jsonrpc":"2.0","method":"AddMessage","params":{"level":3,"message":"Kiosk was disabled. Reason: Authorize error. "}}
[2025-01-30 14:05:16,224]  WARN [15] - Киоск будет отключен. Причина:  Authorize error. 
[2025-01-30 14:07:06,057] ERROR [ 2] - System
[2025-01-30 14:07:06,057] ERROR [ 2] - Попытка выполнить операцию для несуществующего сетевого подключения
[2025-01-30 14:09:22,578]  INFO [15] - Loaded 1 configs
[2025-01-30 14:09:48,478]  INFO [26] - RECEIVED CLOSE MESSAGE TYPE FROM 4f95dc6e-8b64-498a-b1fe-c8542591dedc
[2025-01-30 14:09:48,478]  WARN [26] - Trying to dispose connection 4f95dc6e-8b64-498a-b1fe-c8542591dedc
[2025-01-30 14:09:48,480]  INFO [14] - Connection 4f95dc6e-8b64-498a-b1fe-c8542591dedc successfully removed from the cache.
[2025-01-30 14:09:48,480]  WARN [14] - Trying to dispose connection 4f95dc6e-8b64-498a-b1fe-c8542591dedc
[2025-01-30 14:09:52,109]  INFO [26] - Client Connected. Client IP: 192.168.36.141, ConnectionId 658a20a4-bf90-4946-b772-82136bd5186e
[2025-01-30 14:09:52,109]  INFO [26] - Waiting for connection...
[2025-01-30 14:09:52,164]  INFO [26] - REQUEST FROM CONNECTION 658a20a4-bf90-4946-b772-82136bd5186e: {"id":"c4779750-254e-4fb7-966a-1ac6b37e4305","jsonrpc":"2.0","method":"Authorize","params":{"sstId":"893866fb-6ad1-4588-a236-4a60a5dcbf7b","states":[10,12,15],"version":"0.30.0"}}
[2025-01-30 14:09:52,165]  INFO [ 9] - SST version: 0.30.0
[2025-01-30 14:09:52,165]  INFO [ 9] - SST id: 893866fb-6ad1-4588-a236-4a60a5dcbf7b
[2025-01-30 14:09:52,181]  INFO [ 9] - REPLY TO CONNECTION 658a20a4-bf90-4946-b772-82136bd5186e: {"jsonrpc":"2.0","error":{"additionalInfo":[{"Operation":"Display","Type":"Popup","DataType":"None","Data":"","Header":"Error","Footer":"SST is not configured"}],"code":-32603,"message":"Internal Error","data":"SST is not configured"},"id":"c4779750-254e-4fb7-966a-1ac6b37e4305"}
[2025-01-30 14:09:53,145]  INFO [26] - REQUEST FROM CONNECTION 658a20a4-bf90-4946-b772-82136bd5186e: {"jsonrpc":"2.0","method":"AddMessage","params":{"level":3,"message":"Kiosk was disabled. Reason: Authorize error. "}}
[2025-01-30 14:09:53,149]  WARN [15] - Киоск будет отключен. Причина:  Authorize error. 
[2025-01-30 14:10:28,456]  INFO [ 1] - Disposing plugin...
[2025-01-30 14:10:28,467]  INFO [ 1] - Observer stopped
[2025-01-30 14:10:28,495]  INFO [ 1] - Observer stopped
[2025-01-30 14:10:28,519]  INFO [ 1] - GetKiosk Plugin stopped
[2025-01-30 14:10:28,519]  INFO [24] - Cancellation was requested.
[2025-01-30 14:10:28,520]  INFO [ 1] - Unregistering ipc channel...
[2025-01-30 14:10:28,520]  INFO [ 1] - Unloading plugin domain...
[2025-01-30 14:10:28,543] ERROR [25] - Got WebSocketException with WS error code: Success in HandleConnectionAsync
System.Net.WebSockets.WebSocketException (0x80004005): Внутренняя ошибка WebSocket. Дополнительные сведения см. в исключении innerException, если оно существует. ---> System.Net.HttpListenerException (0x80004005): Операция ввода/вывода была прервана из-за завершения потока команд или по запросу приложения
   в System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   в System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   в System.Net.WebSockets.WebSocketHttpListenerDuplexStream.<ReadAsyncCore>d__30.MoveNext()
--- Конец трассировка стека из предыдущего расположения, где возникло исключение ---
   в System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   в System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   в System.Runtime.CompilerServices.TaskAwaiter.ValidateEnd(Task task)
   в System.Net.WebSockets.WebSocketBase.WebSocketOperation.<Process>d__19.MoveNext()
--- Конец трассировка стека из предыдущего расположения, где возникло исключение ---
   в System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   в System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   в System.Net.WebSockets.WebSocketBase.<ReceiveAsyncCore>d__45.MoveNext()
   в System.Net.WebSockets.WebSocketBase.ThrowIfConvertibleException(String methodName, Exception exception, CancellationToken cancellationToken, Boolean aborted)
   в System.Net.WebSockets.WebSocketBase.<ReceiveAsyncCore>d__45.MoveNext()
--- Конец трассировка стека из предыдущего расположения, где возникло исключение ---
   в System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   в System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   в Get.Plugin.Front.Kiosk.Socket.WebSocketServer.<ReadWsMessageAsync>d__22.MoveNext() в C:\DEV\source\repos\kiosk\Get.Plugin.Front.Kiosk\Transport\WebSocketServer.cs:строка 413
--- Конец трассировка стека из предыдущего расположения, где возникло исключение ---
   в System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   в System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   в System.Runtime.CompilerServices.TaskAwaiter.ValidateEnd(Task task)
   в Get.Plugin.Front.Kiosk.Socket.WebSocketServer.<HandleConnectionAsync>d__19.MoveNext() в C:\DEV\source\repos\kiosk\Get.Plugin.Front.Kiosk\Transport\WebSocketServer.cs:строка 275
[2025-01-30 14:10:28,544]  WARN [25] - Trying to dispose connection 658a20a4-bf90-4946-b772-82136bd5186e
[2025-01-30 14:10:28,544]  INFO [25] - Connection 658a20a4-bf90-4946-b772-82136bd5186e successfully removed from the cache.
[2025-01-30 14:10:28,562]  INFO [ 1] - Shutdown completed
[2025-01-30 14:11:07,660]  INFO [ 1] - ================================================================================
[2025-01-30 14:11:07,676]  INFO [ 1] - Resto.Front.Api.Host ver. 8.8.9008.0
[2025-01-30 14:11:07,676]  INFO [ 1] - ================================================================================
[2025-01-30 14:11:07,677]  INFO [ 1] - Host process Get.Plugin.Front.Kiosk (6940) for “Get.Plugin.Front.Kiosk.GetKioskPlugin” class from “C:\Program Files\iiko\iikoRMS\Front.Net\Plugins\Get.Plugin.Front.Kiosk\Get.Plugin.Front.Kiosk.dll” assembly is running in background mode.
[2025-01-30 14:11:07,679]  INFO [ 1] - Plugin assembly info:
  GetIt 
  Get Kiosk Plugin v0.30.0, GetKiosk Interface Plugin (Get.Plugin.Front.Kiosk.dll v0.30.0, iiko GetKiosk)
[2025-01-30 14:11:07,729]  INFO [ 1] - Created plugin domain “Get.Plugin.Front.Kiosk” using “C:\Program Files\iiko\iikoRMS\Front.Net\Plugins\Get.Plugin.Front.Kiosk\Get.Plugin.Front.Kiosk.dll.config”
[2025-01-30 14:11:07,755]  INFO [ 1] - Registering ipc channel...
[2025-01-30 14:11:08,335]  INFO [ 1] - Initialized as V7 plugin.
[2025-01-30 14:11:08,844]  INFO [ 1] - Plugin context initialized, creating plugin instance...
[2025-01-30 14:11:09,161]  INFO [ 1] - Plugin configuration provider is attached to “Default” instance of type “Get.Plugin.Front.Kiosk.Properties.Settings”.
[2025-01-30 14:11:09,211]  INFO [ 1] - Reading settings from file: C:\Program Files\iiko\iikoRMS\Front.Net\Plugins\Get.Plugin.Front.Kiosk\Get.Plugin.Front.Kiosk.dll.config, settings found: 57.
[2025-01-30 14:11:09,370]  INFO [ 1] - External operation getExternalData on kioskPlugin was registered!
[2025-01-30 14:11:09,486]  INFO [ 1] - [GetHub Menu] [36073118] [None]
[2025-01-30 14:11:09,487]  WARN [ 1] - It is GetIt client
[2025-01-30 14:11:09,491]  INFO [ 1] - Plugin versioning check has been started.
[2025-01-30 14:11:09,491]  INFO [ 1] - assemblyId - be6d79c4-5ee7-4473-a5ac-1fbea3117339
[2025-01-30 14:11:10,389]  INFO [ 1] - GetKiosk settings:
{"ServerAddress":null,"ServerToken":null,"Timeout":0,"Version":"0.30.0.0","Threshold":0,"IikoServerAddress":null,"RetryCount":0,"SyncMinutesCount":0,"SentryKey":null,"UserName":null,"Password":null}
[2025-01-30 14:11:10,390]  INFO [ 1] - "GetKiosk" Plugin: Versions are equal: front version: 0.30, version from settings:0.30
[2025-01-30 14:11:20,603]  INFO [ 1] - Loading plugin with ID 50691b54-08fc-47e3-a490-55490599234c
[2025-01-30 14:11:21,279]  WARN [ 1] - Error to get GeneralSettings:
System.Net.WebException: Удаленный сервер возвратил ошибку: (404) Не найден.
   в System.Net.HttpWebRequest.GetResponse()
   в Get.Plugin.Front.Kiosk.Services.GeneralSettingsLoader.LoadSettings() в C:\DEV\source\repos\kiosk\Get.Plugin.Front.Kiosk\Services\GeneralSettingsLoader.cs:строка 23
[2025-01-30 14:11:21,391]  INFO [ 1] - menuSchema - False
[2025-01-30 14:11:21,392]  INFO [ 1] - !!!Loading currentMenu from GetHub!!!
[2025-01-30 14:11:21,398]  INFO [ 1] - GetExternalMenuSettings [POST]: https://api-pos.ru.ge-co.io/api/v1/menu
[2025-01-30 14:11:21,398]  INFO [ 1] - Header 'x-api-key': r6t23TUmo4jByVc65UXrjRZvvz2Qbupu
[2025-01-30 14:11:21,400]  INFO [ 1] - Body: {"organizationId":"3c7ba918-9dab-4df9-8491-c54434696f82","menuName":"iiko"}
[2025-01-30 14:11:21,795]  INFO [ 1] - GetHub menu 'iiko' - groups: 2 | products: 10
[2025-01-30 14:11:21,795]  INFO [ 1] - GetHub menu 'iiko' revision - 2b7a77ee-357a-e612-ae13-9dd455a10ccf
[2025-01-30 14:11:21,829]  INFO [ 1] - Minimum denomination from iiko : 1
[2025-01-30 14:11:21,829]  INFO [ 1] - Round prices to whole number
[2025-01-30 14:11:21,852]  INFO [ 1] - !!!Loading complete!!!
[2025-01-30 14:12:18,516]  INFO [ 1] - TRNApiKey IsNullOrEmpty
[2025-01-30 14:12:18,538]  INFO [ 1] - SSTHierarchy product count: 10 and groups count: 2
[2025-01-30 14:13:04,618]  WARN [ 1] - Not loading packages due to empty config.
[2025-01-30 14:13:04,737]  INFO [ 1] - Not allowed for sale products: []
[2025-01-30 14:13:04,741]  INFO [ 1] - Start to downloading images...
[2025-01-30 14:13:04,741]  INFO [ 1] - Images downloaded
[2025-01-30 14:13:04,741]  INFO [ 1] - Promo product: empty
[2025-01-30 14:13:04,741]  INFO [ 1] - Disabled products count: 18
[2025-01-30 14:13:04,742]  INFO [ 1] - Ext products count: 10
[2025-01-30 14:13:04,742]  INFO [ 1] - Ext groups count: 2
[2025-01-30 14:13:04,742]  INFO [ 1] - Target top group IDs count: 2
[2025-01-30 14:13:04,742]  INFO [ 1] - Target product IDs count: 10
[2025-01-30 14:13:04,742]  INFO [ 1] - All products count: 1620
[2025-01-30 14:13:04,742]  INFO [ 1] - Target products count: 10
[2025-01-30 14:13:04,810] ERROR [ 1] - Got System.IO.DirectoryNotFoundException in DeleteOldImages
System.IO.DirectoryNotFoundException: Не удалось найти часть пути "C:\Users\RMK\AppData\Roaming\iiko\CashServer\EntitiesStorage\Plugins\Get.Plugin.Front.Kiosk\KioskMenuImages".
   в System.IO.__Error.WinIOError(Int32 errorCode, String maybeFullPath)
   в System.IO.FileSystemEnumerableIterator`1.CommonInit()
   в System.IO.FileSystemEnumerableIterator`1..ctor(String path, String originalUserPath, String searchPattern, SearchOption searchOption, SearchResultHandler`1 resultHandler, Boolean checkHost)
   в System.IO.Directory.GetFiles(String path)
   в Get.Plugin.Front.Kiosk.Services.ImagesService.DeleteOldImages() в C:\DEV\source\repos\kiosk\Get.Plugin.Front.Kiosk\Services\ImagesService.cs:строка 143
[2025-01-30 14:13:04,941]  INFO [ 1] - Loaded 1 configs
[2025-01-30 14:13:04,967]  WARN [ 1] - Loyalty will be disabled. The provider is not configured.
[2025-01-30 14:13:04,969]  INFO [ 1] - Initializing Payment Processor
[2025-01-30 14:13:04,969]  INFO [ 1] - Payment Processor is initialized
[2025-01-30 14:13:04,971]  INFO [ 1] - Can't use default delivery product from config 00000000-0000-0000-0000-000000000000
[2025-01-30 14:13:04,972]  INFO [ 1] - Starting check from cached products
[2025-01-30 14:13:13,949]  INFO [ 1] - Trying to check default delivery product Ш_Сметана 40 гр 3dd0ce2e-6938-4c4b-9263-00ba6160e3d3
[2025-01-30 14:13:13,959]  INFO [ 1] - Product not valid for default delivery
[2025-01-30 14:13:19,338]  INFO [ 1] - Trying to check default delivery product Ш_Чесночный 40 гр aaa3e2b9-e643-454c-b8fd-1da513a9ded0
[2025-01-30 14:13:19,344]  INFO [ 1] - Product not valid for default delivery
[2025-01-30 14:13:29,117]  INFO [ 1] - Trying to check default delivery product Ш_Городская с курицей 350 гр. 120afa02-6883-448d-9000-577ff66e2a34
[2025-01-30 14:13:29,128]  INFO [ 1] - Product valid for default delivery
[2025-01-30 14:13:29,128]  INFO [ 1] - Default delivery product: Ш_Городская с курицей 350 гр. - 120afa02-6883-448d-9000-577ff66e2a34
[2025-01-30 14:13:29,174]  INFO [ 1] - Default payment: Киоск Пэй - db82cab7-ac87-43e4-a5ed-4b64c2140d07
[2025-01-30 14:13:29,216]  INFO [ 1] - Discovered 192.168.36.10 for interface Morsen of type Ethernet
[2025-01-30 14:13:29,216]  INFO [ 1] - Initiating server at http://192.168.36.10:8001/
[2025-01-30 14:13:29,554]  INFO [ 8] - Waiting for connection...
[2025-01-30 14:13:29,712]  INFO [ 1] - Instance of “Get.Plugin.Front.Kiosk.GetKioskPlugin” created
[2025-01-30 14:13:31,137]  INFO [ 7] - Client Connected. Client IP: 192.168.36.141, ConnectionId af3d9cd7-8fbe-44ca-92e5-97482bdca856
[2025-01-30 14:13:31,138]  INFO [ 7] - Waiting for connection...
[2025-01-30 14:13:31,181]  INFO [16] - REQUEST FROM CONNECTION af3d9cd7-8fbe-44ca-92e5-97482bdca856: {"id":"2a069f67-fdfc-4ac8-8738-e451ecdaf9dd","jsonrpc":"2.0","method":"Authorize","params":{"sstId":"893866fb-6ad1-4588-a236-4a60a5dcbf7b","states":[10,12,15],"version":"0.30.0"}}
[2025-01-30 14:13:31,221]  INFO [15] - SST version: 0.30.0
[2025-01-30 14:13:31,221]  INFO [15] - SST id: 893866fb-6ad1-4588-a236-4a60a5dcbf7b
[2025-01-30 14:13:31,293]  INFO [15] - REPLY TO CONNECTION af3d9cd7-8fbe-44ca-92e5-97482bdca856: {"jsonrpc":"2.0","error":{"additionalInfo":[{"Operation":"Display","Type":"Popup","DataType":"None","Data":"","Header":"Error","Footer":"SST is not configured"}],"code":-32603,"message":"Internal Error","data":"SST is not configured"},"id":"2a069f67-fdfc-4ac8-8738-e451ecdaf9dd"}
[2025-01-30 14:20:59,361]  INFO [ 1] - Disposing plugin...
[2025-01-30 14:20:59,374]  INFO [ 1] - Observer stopped
[2025-01-30 14:20:59,396]  INFO [ 1] - Observer stopped
[2025-01-30 14:20:59,439]  INFO [ 1] - GetKiosk Plugin stopped
[2025-01-30 14:20:59,440]  INFO [ 1] - Unregistering ipc channel...
[2025-01-30 14:20:59,441]  INFO [ 1] - Unloading plugin domain...
[2025-01-30 14:20:59,441]  INFO [31] - Cancellation was requested.
[2025-01-30 14:20:59,465] ERROR [30] - Got WebSocketException with WS error code: Success in HandleConnectionAsync
System.Net.WebSockets.WebSocketException (0x80004005): Внутренняя ошибка WebSocket. Дополнительные сведения см. в исключении innerException, если оно существует. ---> System.Net.HttpListenerException (0x80004005): Операция ввода/вывода была прервана из-за завершения потока команд или по запросу приложения
   в System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   в System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   в System.Net.WebSockets.WebSocketHttpListenerDuplexStream.<ReadAsyncCore>d__30.MoveNext()
--- Конец трассировка стека из предыдущего расположения, где возникло исключение ---
   в System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   в System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   в System.Runtime.CompilerServices.TaskAwaiter.ValidateEnd(Task task)
   в System.Net.WebSockets.WebSocketBase.WebSocketOperation.<Process>d__19.MoveNext()
--- Конец трассировка стека из предыдущего расположения, где возникло исключение ---
   в System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   в System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   в System.Net.WebSockets.WebSocketBase.<ReceiveAsyncCore>d__45.MoveNext()
   в System.Net.WebSockets.WebSocketBase.ThrowIfConvertibleException(String methodName, Exception exception, CancellationToken cancellationToken, Boolean aborted)
   в System.Net.WebSockets.WebSocketBase.<ReceiveAsyncCore>d__45.MoveNext()
--- Конец трассировка стека из предыдущего расположения, где возникло исключение ---
   в System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   в System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   в Get.Plugin.Front.Kiosk.Socket.WebSocketServer.<ReadWsMessageAsync>d__22.MoveNext() в C:\DEV\source\repos\kiosk\Get.Plugin.Front.Kiosk\Transport\WebSocketServer.cs:строка 413
--- Конец трассировка стека из предыдущего расположения, где возникло исключение ---
   в System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   в System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   в System.Runtime.CompilerServices.TaskAwaiter.ValidateEnd(Task task)
   в Get.Plugin.Front.Kiosk.Socket.WebSocketServer.<HandleConnectionAsync>d__19.MoveNext() в C:\DEV\source\repos\kiosk\Get.Plugin.Front.Kiosk\Transport\WebSocketServer.cs:строка 275
[2025-01-30 14:20:59,468]  WARN [30] - Trying to dispose connection af3d9cd7-8fbe-44ca-92e5-97482bdca856
[2025-01-30 14:20:59,513]  INFO [30] - Connection af3d9cd7-8fbe-44ca-92e5-97482bdca856 successfully removed from the cache.
[2025-01-30 14:20:59,527]  INFO [ 1] - Shutdown completed
[2025-01-30 14:21:35,903]  INFO [ 1] - ================================================================================
[2025-01-30 14:21:35,914]  INFO [ 1] - Resto.Front.Api.Host ver. 8.8.9008.0
[2025-01-30 14:21:35,914]  INFO [ 1] - ================================================================================
[2025-01-30 14:21:35,914]  INFO [ 1] - Host process Get.Plugin.Front.Kiosk (7176) for “Get.Plugin.Front.Kiosk.GetKioskPlugin” class from “C:\Program Files\iiko\iikoRMS\Front.Net\Plugins\Get.Plugin.Front.Kiosk\Get.Plugin.Front.Kiosk.dll” assembly is running in background mode.
[2025-01-30 14:21:35,916]  INFO [ 1] - Plugin assembly info:
  GetIt 
  Get Kiosk Plugin v0.30.0, GetKiosk Interface Plugin (Get.Plugin.Front.Kiosk.dll v0.30.0, iiko GetKiosk)
[2025-01-30 14:21:35,961]  INFO [ 1] - Created plugin domain “Get.Plugin.Front.Kiosk” using “C:\Program Files\iiko\iikoRMS\Front.Net\Plugins\Get.Plugin.Front.Kiosk\Get.Plugin.Front.Kiosk.dll.config”
[2025-01-30 14:21:35,989]  INFO [ 1] - Registering ipc channel...
[2025-01-30 14:21:36,617]  INFO [ 1] - Initialized as V7 plugin.
[2025-01-30 14:21:37,141]  INFO [ 1] - Plugin context initialized, creating plugin instance...
[2025-01-30 14:21:37,517]  INFO [ 1] - Plugin configuration provider is attached to “Default” instance of type “Get.Plugin.Front.Kiosk.Properties.Settings”.
[2025-01-30 14:21:37,566]  INFO [ 1] - Reading settings from file: C:\Program Files\iiko\iikoRMS\Front.Net\Plugins\Get.Plugin.Front.Kiosk\Get.Plugin.Front.Kiosk.dll.config, settings found: 57.
[2025-01-30 14:21:37,714]  INFO [ 1] - External operation getExternalData on kioskPlugin was registered!
[2025-01-30 14:21:37,832]  INFO [ 1] - [GetHub Menu] [36073118] [None]
[2025-01-30 14:21:37,833]  WARN [ 1] - It is GetIt client
[2025-01-30 14:21:37,837]  INFO [ 1] - Plugin versioning check has been started.
[2025-01-30 14:21:37,837]  INFO [ 1] - assemblyId - be6d79c4-5ee7-4473-a5ac-1fbea3117339
[2025-01-30 14:21:38,966]  INFO [ 1] - GetKiosk settings:
{"ServerAddress":null,"ServerToken":null,"Timeout":0,"Version":"0.30.0.0","Threshold":0,"IikoServerAddress":null,"RetryCount":0,"SyncMinutesCount":0,"SentryKey":null,"UserName":null,"Password":null}
[2025-01-30 14:21:38,968]  INFO [ 1] - "GetKiosk" Plugin: Versions are equal: front version: 0.30, version from settings:0.30
[2025-01-30 14:21:49,148]  INFO [ 1] - Loading plugin with ID 50691b54-08fc-47e3-a490-55490599234c
[2025-01-30 14:21:49,766]  WARN [ 1] - Error to get GeneralSettings:
System.Net.WebException: Удаленный сервер возвратил ошибку: (404) Не найден.
   в System.Net.HttpWebRequest.GetResponse()
   в Get.Plugin.Front.Kiosk.Services.GeneralSettingsLoader.LoadSettings() в C:\DEV\source\repos\kiosk\Get.Plugin.Front.Kiosk\Services\GeneralSettingsLoader.cs:строка 23
[2025-01-30 14:21:49,882]  INFO [ 1] - menuSchema - False
[2025-01-30 14:21:49,882]  INFO [ 1] - !!!Loading currentMenu from GetHub!!!
[2025-01-30 14:21:49,888]  INFO [ 1] - GetExternalMenuSettings [POST]: https://api-pos.ru.ge-co.io/api/v1/menu
[2025-01-30 14:21:49,889]  INFO [ 1] - Header 'x-api-key': r6t23TUmo4jByVc65UXrjRZvvz2Qbupu
[2025-01-30 14:21:49,890]  INFO [ 1] - Body: {"organizationId":"3c7ba918-9dab-4df9-8491-c54434696f82","menuName":"iiko"}
[2025-01-30 14:21:50,638]  INFO [ 1] - GetHub menu 'iiko' - groups: 2 | products: 10
[2025-01-30 14:21:50,638]  INFO [ 1] - GetHub menu 'iiko' revision - 2b7a77ee-357a-e612-ae13-9dd455a10ccf
[2025-01-30 14:21:50,689]  INFO [ 1] - Minimum denomination from iiko : 1
[2025-01-30 14:21:50,689]  INFO [ 1] - Round prices to whole number
[2025-01-30 14:21:50,740]  INFO [ 1] - !!!Loading complete!!!
[2025-01-30 14:22:47,169]  INFO [ 1] - TRNApiKey IsNullOrEmpty
[2025-01-30 14:22:47,191]  INFO [ 1] - SSTHierarchy product count: 10 and groups count: 2
[2025-01-30 14:23:34,213]  WARN [ 1] - Not loading packages due to empty config.
[2025-01-30 14:23:34,327]  INFO [ 1] - Not allowed for sale products: []
[2025-01-30 14:23:34,331]  INFO [ 1] - Start to downloading images...
[2025-01-30 14:23:34,331]  INFO [ 1] - Images downloaded
[2025-01-30 14:23:34,331]  INFO [ 1] - Promo product: empty
[2025-01-30 14:23:34,331]  INFO [ 1] - Disabled products count: 18
[2025-01-30 14:23:34,332]  INFO [ 1] - Ext products count: 10
[2025-01-30 14:23:34,332]  INFO [ 1] - Ext groups count: 2
[2025-01-30 14:23:34,332]  INFO [ 1] - Target top group IDs count: 2
[2025-01-30 14:23:34,332]  INFO [ 1] - Target product IDs count: 10
[2025-01-30 14:23:34,332]  INFO [ 1] - All products count: 1620
[2025-01-30 14:23:34,332]  INFO [ 1] - Target products count: 10
[2025-01-30 14:23:34,393] ERROR [ 1] - Got System.IO.DirectoryNotFoundException in DeleteOldImages
System.IO.DirectoryNotFoundException: Не удалось найти часть пути "C:\Users\RMK\AppData\Roaming\iiko\CashServer\EntitiesStorage\Plugins\Get.Plugin.Front.Kiosk\KioskMenuImages".
   в System.IO.__Error.WinIOError(Int32 errorCode, String maybeFullPath)
   в System.IO.FileSystemEnumerableIterator`1.CommonInit()
   в System.IO.FileSystemEnumerableIterator`1..ctor(String path, String originalUserPath, String searchPattern, SearchOption searchOption, SearchResultHandler`1 resultHandler, Boolean checkHost)
   в System.IO.Directory.GetFiles(String path)
   в Get.Plugin.Front.Kiosk.Services.ImagesService.DeleteOldImages() в C:\DEV\source\repos\kiosk\Get.Plugin.Front.Kiosk\Services\ImagesService.cs:строка 143
[2025-01-30 14:23:34,527]  INFO [ 1] - Loaded 1 configs
[2025-01-30 14:23:34,553]  WARN [ 1] - Loyalty will be disabled. The provider is not configured.
[2025-01-30 14:23:34,555]  INFO [ 1] - Initializing Payment Processor
[2025-01-30 14:23:34,555]  INFO [ 1] - Payment Processor is initialized
[2025-01-30 14:23:34,557]  INFO [ 1] - Can't use default delivery product from config 00000000-0000-0000-0000-000000000000
[2025-01-30 14:23:34,557]  INFO [ 1] - Starting check from cached products
[2025-01-30 14:23:44,302]  INFO [ 1] - Trying to check default delivery product Ш_Сметана 40 гр 3dd0ce2e-6938-4c4b-9263-00ba6160e3d3
[2025-01-30 14:23:44,306]  INFO [ 1] - Product not valid for default delivery
[2025-01-30 14:23:49,256]  INFO [ 1] - Trying to check default delivery product Ш_Чесночный 40 гр aaa3e2b9-e643-454c-b8fd-1da513a9ded0
[2025-01-30 14:23:49,259]  INFO [ 1] - Product not valid for default delivery
[2025-01-30 14:23:58,720]  INFO [ 1] - Trying to check default delivery product Ш_Городская с курицей 350 гр. 120afa02-6883-448d-9000-577ff66e2a34
[2025-01-30 14:23:58,733]  INFO [ 1] - Product valid for default delivery
[2025-01-30 14:23:58,734]  INFO [ 1] - Default delivery product: Ш_Городская с курицей 350 гр. - 120afa02-6883-448d-9000-577ff66e2a34
[2025-01-30 14:23:58,779]  INFO [ 1] - Default payment: Киоск Пэй - db82cab7-ac87-43e4-a5ed-4b64c2140d07
[2025-01-30 14:23:58,821]  INFO [ 1] - Discovered 192.168.36.10 for interface Morsen of type Ethernet
[2025-01-30 14:23:58,821]  INFO [ 1] - Initiating server at http://192.168.36.10:8001/
[2025-01-30 14:23:59,158]  INFO [ 7] - Waiting for connection...
[2025-01-30 14:23:59,319]  INFO [ 1] - Instance of “Get.Plugin.Front.Kiosk.GetKioskPlugin” created
[2025-01-30 14:24:00,137]  INFO [ 9] - Client Connected. Client IP: 192.168.36.141, ConnectionId a9662309-ed0d-478d-9e56-ff2a1d1b7f47
[2025-01-30 14:24:00,137]  INFO [ 9] - Waiting for connection...
[2025-01-30 14:24:00,182]  INFO [16] - REQUEST FROM CONNECTION a9662309-ed0d-478d-9e56-ff2a1d1b7f47: {"id":"d324e043-4be9-47ee-8dc8-0530bca47e27","jsonrpc":"2.0","method":"GenerateTempCode"}
[2025-01-30 14:24:00,225]  INFO [ 7] - REPLY TO CONNECTION a9662309-ed0d-478d-9e56-ff2a1d1b7f47: {"jsonrpc":"2.0","result":"0028","id":"d324e043-4be9-47ee-8dc8-0530bca47e27"}
[2025-01-30 14:24:00,235]  INFO [ 9] - REQUEST FROM CONNECTION a9662309-ed0d-478d-9e56-ff2a1d1b7f47: {"id":"1192ff84-c647-43ee-ba04-d15c850c3f87","jsonrpc":"2.0","method":"Register","params":{"code":"0028"}}
[2025-01-30 14:24:00,240]  INFO [15] - Hostname: nam-nam-demo
[2025-01-30 14:24:00,240]  INFO [15] - MAC: E4:3A:6E:42:26:FF
[2025-01-30 14:24:00,242]  INFO [15] - REPLY TO CONNECTION a9662309-ed0d-478d-9e56-ff2a1d1b7f47: {"jsonrpc":"2.0","result":"893866fb-6ad1-4588-a236-4a60a5dcbf7b","id":"1192ff84-c647-43ee-ba04-d15c850c3f87"}
[2025-01-30 14:24:00,259]  INFO [ 9] - REQUEST FROM CONNECTION a9662309-ed0d-478d-9e56-ff2a1d1b7f47: {"id":"478991d3-76d2-43ca-b2f6-68a31aa19868","jsonrpc":"2.0","method":"Authorize","params":{"sstId":"893866fb-6ad1-4588-a236-4a60a5dcbf7b","states":[10,12,15],"version":"0.30.0"}}
[2025-01-30 14:24:00,279]  INFO [16] - SST version: 0.30.0
[2025-01-30 14:24:00,279]  INFO [16] - SST id: 893866fb-6ad1-4588-a236-4a60a5dcbf7b
[2025-01-30 14:24:00,331]  INFO [16] - REPLY TO CONNECTION a9662309-ed0d-478d-9e56-ff2a1d1b7f47: {"jsonrpc":"2.0","error":{"additionalInfo":[{"Operation":"Display","Type":"Popup","DataType":"None","Data":"","Header":"Error","Footer":"SST is not configured"}],"code":-32603,"message":"Internal Error","data":"SST is not configured"},"id":"478991d3-76d2-43ca-b2f6-68a31aa19868"}
[2025-01-30 14:24:05,007]  INFO [ 9] - REQUEST FROM CONNECTION a9662309-ed0d-478d-9e56-ff2a1d1b7f47: {"jsonrpc":"2.0","method":"AddMessage","params":{"level":3,"message":"Kiosk was disabled. Reason: Authorize error. "}}
[2025-01-30 14:24:05,034]  WARN [ 7] - Киоск будет отключен. Причина:  Authorize error. 
[2025-01-30 14:33:34,574]  INFO [16] - Loaded 1 configs
[2025-01-30 14:34:29,028]  INFO [ 3] - RECEIVED CLOSE MESSAGE TYPE FROM a9662309-ed0d-478d-9e56-ff2a1d1b7f47
[2025-01-30 14:34:29,030]  WARN [ 3] - Trying to dispose connection a9662309-ed0d-478d-9e56-ff2a1d1b7f47
[2025-01-30 14:34:29,051]  INFO [16] - Connection a9662309-ed0d-478d-9e56-ff2a1d1b7f47 successfully removed from the cache.
[2025-01-30 14:34:29,052]  WARN [16] - Trying to dispose connection a9662309-ed0d-478d-9e56-ff2a1d1b7f47
[2025-01-30 14:34:30,102]  INFO [ 3] - Client Connected. Client IP: 192.168.36.141, ConnectionId fac3c822-8b66-443e-9972-1db3f0a0e8e0
[2025-01-30 14:34:30,102]  INFO [ 3] - Waiting for connection...
[2025-01-30 14:34:30,163]  INFO [ 3] - REQUEST FROM CONNECTION fac3c822-8b66-443e-9972-1db3f0a0e8e0: {"id":"1e7b2280-e2d0-48dd-a304-d36271d9d3a1","jsonrpc":"2.0","method":"Authorize","params":{"sstId":"893866fb-6ad1-4588-a236-4a60a5dcbf7b","states":[10,12,15],"version":"0.30.0"}}
[2025-01-30 14:34:30,163]  INFO [15] - SST version: 0.30.0
[2025-01-30 14:34:30,163]  INFO [15] - SST id: 893866fb-6ad1-4588-a236-4a60a5dcbf7b
[2025-01-30 14:34:30,171]  INFO [15] - REPLY TO CONNECTION fac3c822-8b66-443e-9972-1db3f0a0e8e0: {"jsonrpc":"2.0","error":{"additionalInfo":[{"Operation":"Display","Type":"Popup","DataType":"None","Data":"","Header":"Error","Footer":"SST is not configured"}],"code":-32603,"message":"Internal Error","data":"SST is not configured"},"id":"1e7b2280-e2d0-48dd-a304-d36271d9d3a1"}
[2025-01-30 14:34:31,182]  INFO [ 3] - REQUEST FROM CONNECTION fac3c822-8b66-443e-9972-1db3f0a0e8e0: {"jsonrpc":"2.0","method":"AddMessage","params":{"level":3,"message":"Kiosk was disabled. Reason: Authorize error. "}}
[2025-01-30 14:34:31,186]  WARN [ 7] - Киоск будет отключен. Причина:  Authorize error. 
